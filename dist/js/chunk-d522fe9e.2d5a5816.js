(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d522fe9e"],{"2da2":function(t,e,o){"use strict";o("ff05")},9588:function(t,e,o){"use strict";var s=o("7a23");const c={class:"products__item item-product"},a={class:"item-product__info flex"},i={class:"item-product__image"},r=["src"],d={key:0},n={class:"item-product__text-row"},u={class:"item-product__label"},l={class:"item-product__price"},b={class:"item-product__actions actions-product flex"};function v(t,e,o,v,f,p){const m=Object(s["F"])("router-link");return Object(s["z"])(),Object(s["f"])("div",c,[Object(s["j"])(m,{to:{name:"productItem",params:{id:o.product.id}}},{default:Object(s["K"])(()=>[Object(s["g"])("div",{class:"item-product__body flex",onClick:e[2]||(e[2]=t=>p.addToRecent(o.product))},[Object(s["g"])("div",a,[Object(s["g"])("div",i,[Object(s["g"])("img",{src:o.product.preview,alt:""},null,8,r),o.product.mark?(Object(s["z"])(),Object(s["f"])("span",d,Object(s["H"])(o.product.labelMark),1)):Object(s["e"])("",!0)]),Object(s["g"])("div",n,[Object(s["g"])("div",u,Object(s["H"])(o.product.name),1),Object(s["g"])("div",l,Object(s["H"])(o.product.price),1)])]),Object(s["g"])("div",b,[Object(s["g"])("button",{onClick:e[0]||(e[0]=t=>{p.addToCart(o.product),t.stopPropagation(),t.preventDefault(),p.showAlert()}),type:"button",class:"actions-product__button"},"Dodaj do koszyka"),Object(s["g"])("button",{onClick:e[1]||(e[1]=t=>{p.changeFavoriteList(o.product),t.stopPropagation(),t.preventDefault()}),type:"button",class:Object(s["q"])(["actions-product__favorite",{favorite:!0===p.checkIsFavorite(o.product)}])},null,2)])])]),_:1},8,["to"])])}o("14d9");var f={props:{product:{type:Object,required:!0}},methods:{addToCart(t){this.$emit("addToCart",t)},changeFavoriteList(t){if(this.$store.state.favoriteItems.find(e=>e.id===t.id)){let e=this.$store.state.favoriteItems.find(e=>e.id===t.id);e.isFavorite=!1;let o=this.$store.state.favoriteItems;const s=o.indexOf(o.find(e=>e.id===t.id));o.splice(s,1),localStorage.setItem("favoriteItems",JSON.stringify(o))}else{t.isFavorite=!0;const e=this.$store.state.favoriteItems;e.push(t),localStorage.setItem("favoriteItems",JSON.stringify(e))}},checkIsFavorite(t){return this.$store.state.favoriteItems.find(e=>e.id===t.id)?(t.isFavorite=!0,!0):(t.isFavorite=!1,!1)},addToRecent(t){this.$store.state.recentList.find(e=>e.id===t.id)||this.$store.state.recentList.unshift(t)},showAlert(){const t=document.querySelector(".access-alert__container");t.classList.add("show-access-alert"),setTimeout(()=>t.classList.remove("show-access-alert"),1e3)}}},p=o("6b0d"),m=o.n(p);const j=m()(f,[["render",v]]);e["a"]=j},bebb:function(t,e,o){"use strict";o.r(e);var s=o("7a23");const c={class:"favorite"},a={class:"page"},i={class:"page__favorite favorite-page"},r={class:"favorite-page__container container"},d={class:"favorite-page__content"};function n(t,e,o,n,u,l){const b=Object(s["F"])("FavoriteComponent"),v=Object(s["F"])("LayoutDefault");return Object(s["z"])(),Object(s["f"])("div",c,[Object(s["j"])(v,null,{default:Object(s["K"])(()=>[Object(s["g"])("div",a,[Object(s["g"])("div",i,[Object(s["g"])("div",r,[Object(s["g"])("div",d,[Object(s["j"])(b)])])])])]),_:1})])}var u=o("7c64");const l={class:"favorite-page__component"},b=Object(s["g"])("div",{class:"favorite-page__title big-title"},"Uratowani produkty",-1),v={class:"favorite-page__items"},f={key:0,class:"favorite-block"},p={class:"products__items"},m={key:1,class:"favorite-block"},j=Object(s["g"])("div",{class:"empty-block"},[Object(s["i"])("Your uratowane is "),Object(s["g"])("span",null,"empty!")],-1),O=[j];function g(t,e,o,c,a,i){const r=Object(s["F"])("ProductItem");return Object(s["z"])(),Object(s["f"])("div",l,[b,Object(s["g"])("div",v,[0!==a.favoriteItems.length?(Object(s["z"])(),Object(s["f"])("div",f,[Object(s["g"])("div",p,[(Object(s["z"])(!0),Object(s["f"])(s["a"],null,Object(s["D"])(a.favoriteItems,t=>(Object(s["z"])(),Object(s["d"])(r,{key:t.id,product:t,onAddToCart:i.addToCart},null,8,["product","onAddToCart"]))),128))])])):(Object(s["z"])(),Object(s["f"])("div",m,O))])])}o("14d9");var _=o("9588"),h={data(){return{favoriteItems:[]}},methods:{getFavoriteItems(){console.log(this.$store.state.favoriteItems),this.favoriteItems=this.$store.state.favoriteItems},addToCart(t){const e=this.$store.state.cartList;if(this.$store.state.cartList.find(e=>e.id===t.id)){const o=e.find(e=>e.id===t.id);o.amount++}else t.amount=1,e.push(t),localStorage.setItem("cartItems",JSON.stringify(e))}},mounted(){this.getFavoriteItems()},computed:{currentFavoriteList(){return localStorage.getItem("favoriteItems")}},watch:{currentFavoriteList(){setTimeout(()=>{this.getFavoriteItems()},0)}},components:{ProductItem:_["a"]}},I=(o("2da2"),o("6b0d")),k=o.n(I);const F=k()(h,[["render",g]]);var y=F,w={components:{LayoutDefault:u["a"],FavoriteComponent:y}};const C=k()(w,[["render",n]]);e["default"]=C},ff05:function(t,e,o){}}]);
//# sourceMappingURL=chunk-d522fe9e.2d5a5816.js.map