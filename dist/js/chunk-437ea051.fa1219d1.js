(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-437ea051"],{"8f9a":function(t,e,o){"use strict";o("bfb6")},9588:function(t,e,o){"use strict";var c=o("7a23");const a={class:"products__item item-product"},r={class:"item-product__info flex"},s={class:"item-product__image"},i=["src"],n={key:0},d={class:"item-product__text-row"},l={class:"item-product__label"},u={class:"item-product__price"},m={class:"item-product__actions actions-product flex"};function p(t,e,o,p,b,v){const f=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createVNode"])(f,{to:{name:"productItem",params:{id:o.product.id}}},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",{class:"item-product__body flex",onClick:e[2]||(e[2]=t=>v.addToRecent(o.product))},[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("img",{src:o.product.preview,alt:""},null,8,i),o.product.mark?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",n,Object(c["toDisplayString"])(o.product.labelMark),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",l,Object(c["toDisplayString"])(o.product.name),1),Object(c["createElementVNode"])("div",u,Object(c["toDisplayString"])(o.product.price),1)])]),Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("button",{onClick:e[0]||(e[0]=t=>{this.showAlert(o.product),v.addToCart(o.product),t.stopPropagation(),t.preventDefault()}),type:"button",class:Object(c["normalizeClass"])(["actions-product__button",v.getQuantity(o.product)>=o.product.quantity?"_disabled":""])}," Dodaj do koszyka ",2),Object(c["createElementVNode"])("button",{onClick:e[1]||(e[1]=t=>{v.changeFavoriteList(o.product),t.stopPropagation(),t.preventDefault()}),type:"button",class:Object(c["normalizeClass"])(["actions-product__favorite",{favorite:!0===v.checkIsFavorite(o.product)}])},null,2)])])]),_:1},8,["to"])])}o("14d9");var b={props:{product:{type:Object,required:!0}},methods:{getQuantity(t){if(!this.$store.state.cartList.find(e=>e.id===t.id))return 0;const e=this.$store.state.cartList.find(e=>e.id===t.id);return e.amount},addToCart(t){this.$emit("addToCart",t)},changeFavoriteList(t){if(this.$store.state.favoriteItems.find(e=>e.id===t.id)){let e=this.$store.state.favoriteItems.find(e=>e.id===t.id);e.isFavorite=!1;let o=this.$store.state.favoriteItems;const c=o.indexOf(o.find(e=>e.id===t.id));o.splice(c,1),localStorage.setItem("favoriteItems",JSON.stringify(o))}else{t.isFavorite=!0;const e=this.$store.state.favoriteItems;e.push(t),localStorage.setItem("favoriteItems",JSON.stringify(e))}},checkIsFavorite(t){return this.$store.state.favoriteItems.find(e=>e.id===t.id)?(t.isFavorite=!0,!0):(t.isFavorite=!1,!1)},addToRecent(t){this.$store.state.recentList.find(e=>e.id===t.id)||this.$store.state.recentList.unshift(t)},showAlert(t){if(this.getQuantity(t)<t.quantity){const t=document.querySelector(".access-alert__container");t.classList.add("show-access-alert"),setTimeout(()=>t.classList.remove("show-access-alert"),1e3)}}}},v=o("6b0d"),f=o.n(v);const O=f()(b,[["render",p]]);e["a"]=O},bebb:function(t,e,o){"use strict";o.r(e);var c=o("7a23");const a={class:"favorite"},r={class:"page"},s={class:"page__favorite favorite-page"},i={class:"favorite-page__container container"},n={class:"favorite-page__content"};function d(t,e,o,d,l,u){const m=Object(c["resolveComponent"])("FavoriteComponent"),p=Object(c["resolveComponent"])("LayoutDefault");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",n,[Object(c["createVNode"])(m)])])])])]),_:1})])}var l=o("7c64");const u={class:"favorite-page__component"},m=Object(c["createElementVNode"])("div",{class:"favorite-page__title big-title"},"Uratowani produkty",-1),p={class:"favorite-page__items"},b={key:0,class:"favorite-block"},v={class:"products__items"},f={key:1,class:"favorite-block"},O=Object(c["createElementVNode"])("div",{class:"empty-block"},[Object(c["createTextVNode"])("Your uratowane is "),Object(c["createElementVNode"])("span",null,"empty!")],-1),j=[O];function _(t,e,o,a,r,s){const i=Object(c["resolveComponent"])("ProductItem");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",u,[m,Object(c["createElementVNode"])("div",p,[0!==r.favoriteItems.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",b,[Object(c["createElementVNode"])("div",v,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(r.favoriteItems,t=>(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:t.id,product:t,onAddToCart:s.addToCart},null,8,["product","onAddToCart"]))),128))])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",f,j))])])}o("14d9");var h=o("9588"),k={data(){return{favoriteItems:[]}},methods:{getFavoriteItems(){console.log(this.$store.state.favoriteItems),this.favoriteItems=this.$store.state.favoriteItems},addToCart(t){const e=this.$store.state.cartList;if(this.$store.state.cartList.find(e=>e.id===t.id)){const o=e.find(e=>e.id===t.id);o.amount<o.quantity&&o.amount++}else t.quantity>0&&(t.amount=1,e.push(t),localStorage.setItem("cartItems",JSON.stringify(e)))}},mounted(){this.getFavoriteItems()},computed:{currentFavoriteList(){return localStorage.getItem("favoriteItems")}},watch:{currentFavoriteList(){setTimeout(()=>{this.getFavoriteItems()},0)}},components:{ProductItem:h["a"]}},g=(o("8f9a"),o("6b0d")),y=o.n(g);const I=y()(k,[["render",_]]);var N=I,E={components:{LayoutDefault:l["a"],FavoriteComponent:N}};const V=y()(E,[["render",d]]);e["default"]=V},bfb6:function(t,e,o){}}]);
//# sourceMappingURL=chunk-437ea051.fa1219d1.js.map