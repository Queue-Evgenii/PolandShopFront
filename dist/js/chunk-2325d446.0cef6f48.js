(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2325d446"],{"60ef":function(t,e,o){},"807c":function(t,e,o){"use strict";o("60ef")},9588:function(t,e,o){"use strict";var c=o("7a23");const i={class:"products__item item-product"},s={class:"item-product__info flex"},r={class:"item-product__image"},a=["src"],n={key:0},d={key:0,class:"item-product__text-row"},l={class:"item-product__label"},m={class:"item-product__price"},u={class:"column-container flex"},p={key:0,class:"item-product__text-row"},v={class:"item-product__label"},b={class:"item-product__price"},f={class:"item-product__actions actions-product flex"};function O(t,e,o,O,j,h){const _=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",i,[Object(c["createVNode"])(_,{to:{name:"productItem",params:{id:o.product.id}}},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",{class:"item-product__body flex",onClick:e[2]||(e[2]=t=>h.addToRecent(o.product))},[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("img",{src:o.product.preview,alt:""},null,8,a),o.product.mark?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",n,Object(c["toDisplayString"])(o.product.labelMark),1)):Object(c["createCommentVNode"])("",!0)]),o.isRowDirection?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",d,[Object(c["createElementVNode"])("div",l,Object(c["toDisplayString"])(o.product.name),1),Object(c["createElementVNode"])("div",m,Object(c["toDisplayString"])(o.product.price),1)]))]),Object(c["createElementVNode"])("div",u,[o.isRowDirection?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",p,[Object(c["createElementVNode"])("div",v,Object(c["toDisplayString"])(o.product.name),1),Object(c["createElementVNode"])("div",b,Object(c["toDisplayString"])(o.product.price),1)])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("button",{onClick:e[0]||(e[0]=t=>{this.showAlert(o.product),h.addToCart(o.product),t.stopPropagation(),t.preventDefault()}),type:"button",class:Object(c["normalizeClass"])(["actions-product__button",h.getQuantity(o.product)>=o.product.quantity?"_disabled":""])}," Dodaj do koszyka ",2),Object(c["createElementVNode"])("button",{onClick:e[1]||(e[1]=t=>{h.changeFavoriteList(o.product),t.stopPropagation(),t.preventDefault()}),type:"button",class:Object(c["normalizeClass"])(["actions-product__favorite",{favorite:!0===h.checkIsFavorite(o.product)}])},null,2)])])])]),_:1},8,["to"])])}o("14d9");var j={props:{product:{type:Object,required:!0},isRowDirection:{type:Boolean,required:!0}},computed:{isAuthorised(){return localStorage.getItem("access_token")}},methods:{getQuantity(t){if(!this.$store.state.cartList.find(e=>e.id===t.id))return 0;const e=this.$store.state.cartList.find(e=>e.id===t.id);return e.amount},addToCart(t){this.$emit("addToCart",t)},setFavorites(t){this.$emit("setFavoriteItems",t)},changeFavoriteList(t){if(this.isAuthorised){const e={product_id:t.id};this.$store.state.favoriteItems.find(t=>t.id===e.product_id)?(this.$store.state.favoriteItems=this.$store.state.favoriteItems.filter(t=>t.id!==e.product_id),this.$store.dispatch("removeFavorites",e)):(this.$store.state.favoriteItems.push(t),this.$store.dispatch("addFavorites",e))}else this.changeLocalFavorites(t)},changeLocalFavorites(t){if(this.$store.state.favoriteItems.find(e=>e.id===t.id)){let e=this.$store.state.favoriteItems.find(e=>e.id===t.id);e.isFavorite=!1;let o=this.$store.state.favoriteItems;const c=o.indexOf(o.find(e=>e.id===t.id));o.splice(c,1),localStorage.setItem("favoriteItems",JSON.stringify(o))}else{t.isFavorite=!0;const e=this.$store.state.favoriteItems;e.push(t),localStorage.setItem("favoriteItems",JSON.stringify(e))}},checkIsFavorite(t){return this.isAuthorised?!!this.$store.state.favoriteItems.find(e=>e.id===t.id):this.checkLocalFavorites(t)},checkLocalFavorites(t){return this.$store.state.favoriteItems.find(e=>e.id===t.id)?(t.isFavorite=!0,!0):(t.isFavorite=!1,!1)},addToRecent(t){this.$store.state.recentList.find(e=>e.id===t.id)||this.$store.state.recentList.unshift(t)},showAlert(t){if(this.getQuantity(t)<t.quantity){const t=document.querySelector(".access-alert__container");t.classList.add("show-access-alert"),setTimeout(()=>t.classList.remove("show-access-alert"),1e3)}}}},h=o("6b0d"),_=o.n(h);const k=_()(j,[["render",O]]);e["a"]=k},bebb:function(t,e,o){"use strict";o.r(e);var c=o("7a23");const i={class:"favorite"},s={class:"page"},r={class:"page__favorite favorite-page"},a={class:"favorite-page__container container"},n={class:"favorite-page__content"};function d(t,e,o,d,l,m){const u=Object(c["resolveComponent"])("FavoriteComponent"),p=Object(c["resolveComponent"])("LayoutDefault");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",i,[Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",a,[Object(c["createElementVNode"])("div",n,[Object(c["createVNode"])(u)])])])])]),_:1})])}var l=o("7c64");const m={class:"favorite-page__component"},u=Object(c["createElementVNode"])("div",{class:"favorite-page__title big-title"},"Uratowani produkty",-1),p={class:"favorite-page__items"},v={key:0,class:"favorite-block"},b={class:"products__items"},f={key:1,class:"favorite-block"},O=Object(c["createElementVNode"])("div",{class:"empty-block"},[Object(c["createTextVNode"])("Your uratowane is "),Object(c["createElementVNode"])("span",null,"empty!")],-1),j=[O];function h(t,e,o,i,s,r){const a=Object(c["resolveComponent"])("ProductItem");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",m,[u,Object(c["createElementVNode"])("div",p,[0!==s.favoriteItems.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",v,[Object(c["createElementVNode"])("div",b,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(s.favoriteItems,t=>(Object(c["openBlock"])(),Object(c["createBlock"])(a,{key:t.id,product:t,onAddToCart:r.addToCart},null,8,["product","onAddToCart"]))),128))])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",f,j))])])}o("14d9");var _=o("9588"),k={data(){return{favoriteItems:[]}},methods:{getFavoriteItems(){this.favoriteItems=this.$store.state.favoriteItems},addToCart(t){const e=this.$store.state.cartList;if(this.$store.state.cartList.find(e=>e.id===t.id)){const o=e.find(e=>e.id===t.id);o.amount<o.quantity&&o.amount++}else t.quantity>0&&(t.amount=1,e.push(t),localStorage.setItem("cartItems",JSON.stringify(e)))}},mounted(){this.getFavoriteItems()},computed:{currentFavoriteList(){return this.$store.state.favoriteItems}},watch:{currentFavoriteList(){setTimeout(()=>{this.getFavoriteItems()},0)}},components:{ProductItem:_["a"]}},g=(o("807c"),o("6b0d")),y=o.n(g);const I=y()(k,[["render",h]]);var N=I,E={components:{LayoutDefault:l["a"],FavoriteComponent:N}};const V=y()(E,[["render",d]]);e["default"]=V}}]);
//# sourceMappingURL=chunk-2325d446.0cef6f48.js.map